<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Sunspot::Session
  
    &mdash; Documentation by YARD 0.7.3
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Sunspot.html" title="Sunspot (module)">Sunspot</a></span></span>
     &raquo; 
    <span class="title">Session</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Sunspot::Session
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Sunspot::Session</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">sunspot/lib/sunspot/session.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
A Sunspot session encapsulates a connection to Solr and a set of
configuration choices. Though users of Sunspot may manually instantiate
Session objects, in the general case it&#8217;s easier to use the singleton
stored in the Sunspot module. Since the Sunspot module provides all of the
instance methods of Session as class methods, they are not documented again
here.
</p>


  </div>
</div>
<div class="tags">
  

</div>

  <h2>Class Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#connection_class-class_method" title="connection_class (class method)">+ (Object) <strong>connection_class</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
For testing purposes.
</p>
</div></span>
  
</li>

    
  </ul>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#config-instance_method" title="#config (instance method)">- (Object) <strong>config</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sunspot::Configuration object for this session.
</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#batch-instance_method" title="#batch (instance method)">- (Object) <strong>batch</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.batch.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commit-instance_method" title="#commit (instance method)">- (Object) <strong>commit</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.commit.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commit_if_delete_dirty-instance_method" title="#commit_if_delete_dirty (instance method)">- (Object) <strong>commit_if_delete_dirty</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.commit_if_delete_dirty.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commit_if_dirty-instance_method" title="#commit_if_dirty (instance method)">- (Object) <strong>commit_if_dirty</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.commit_if_dirty.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_dirty%3F-instance_method" title="#delete_dirty? (instance method)">- (Boolean) <strong>delete_dirty?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.delete_dirty?.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dirty%3F-instance_method" title="#dirty? (instance method)">- (Boolean) <strong>dirty?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.dirty?.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#index-instance_method" title="#index (instance method)">- (Object) <strong>index</strong>(*objects) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.index.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#index%21-instance_method" title="#index! (instance method)">- (Object) <strong>index!</strong>(*objects) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.index!.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Session) <strong>initialize</strong>(config = Configuration.build, connection = nil) {|@config| ... }</a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sessions are initialized with a Sunspot configuration and a Solr
connection.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#more_like_this-instance_method" title="#more_like_this (instance method)">- (Object) <strong>more_like_this</strong>(object, *types, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.more_like_this.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_more_like_this-instance_method" title="#new_more_like_this (instance method)">- (Object) <strong>new_more_like_this</strong>(object, *types, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.new_more_like_this.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_search-instance_method" title="#new_search (instance method)">- (Object) <strong>new_search</strong>(*types, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.new_search.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#optimize-instance_method" title="#optimize (instance method)">- (Object) <strong>optimize</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.optimize.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove-instance_method" title="#remove (instance method)">- (Object) <strong>remove</strong>(*objects, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.remove.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove%21-instance_method" title="#remove! (instance method)">- (Object) <strong>remove!</strong>(*objects) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.remove!.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_all-instance_method" title="#remove_all (instance method)">- (Object) <strong>remove_all</strong>(*classes) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.remove_all.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_all%21-instance_method" title="#remove_all! (instance method)">- (Object) <strong>remove_all!</strong>(*classes) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.remove_all!.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_by_id-instance_method" title="#remove_by_id (instance method)">- (Object) <strong>remove_by_id</strong>(clazz, id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.remove_by_id.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_by_id%21-instance_method" title="#remove_by_id! (instance method)">- (Object) <strong>remove_by_id!</strong>(clazz, id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.remove_by_id!.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#search-instance_method" title="#search (instance method)">- (Object) <strong>search</strong>(*types, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
See Sunspot.search.
</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Sunspot::Session (class)">Session</a></span></tt>) <strong>initialize</strong>(config = Configuration.build, connection = nil) {|@config| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sessions are initialized with a Sunspot configuration and a Solr
connection. Usually you will want to stick with the default arguments when
instantiating your own sessions.
</p>


  </div>
</div>
<div class="tags">
  
<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>@<span class='object_link'><a href="../Sunspot.html#config-class_method" title="Sunspot.config (method)">config</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34
35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 32</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id config'>config</span> <span class='op'>=</span> <span class='const'>Configuration</span><span class='period'>.</span><span class='id build'>build</span><span class='comma'>,</span> <span class='id connection'>connection</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@config</span> <span class='op'>=</span> <span class='id config'>config</span>
  <span class='kw'>yield</span><span class='lparen'>(</span><span class='ivar'>@config</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>
  <span class='ivar'>@connection</span> <span class='op'>=</span> <span class='id connection'>connection</span>
  <span class='ivar'>@deletes</span> <span class='op'>=</span> <span class='ivar'>@adds</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id="connection_class=-class_method"></span>
      <span id="connection_class-class_method"></span>
      <div class="method_details first">
  <p class="signature first" id="connection_class-class_method">
  
    + (<tt>Object</tt>) <strong>connection_class</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
For testing purposes
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 17</span>

<span class='kw'>def</span> <span class='id connection_class'>connection_class</span> <span class='comment'>#:nodoc:
</span>  <span class='ivar'>@connection_class</span> <span class='op'>||=</span> <span class='const'>RSolr</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="config-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="config-instance_method">
  
    - (<tt>Object</tt>) <strong>config</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sunspot::Configuration object for this session
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 25</span>

<span class='kw'>def</span> <span class='id config'>config</span>
  <span class='ivar'>@config</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="batch-instance_method">
  
    - (<tt>Object</tt>) <strong>batch</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.batch
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


224
225
226
227
228</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 224</span>

<span class='kw'>def</span> <span class='id batch'>batch</span>
  <span class='id indexer'>indexer</span><span class='period'>.</span><span class='id start_batch'>start_batch</span>
  <span class='kw'>yield</span>
  <span class='id indexer'>indexer</span><span class='period'>.</span><span class='id flush_batch'>flush_batch</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="commit-instance_method">
  
    - (<tt>Object</tt>) <strong>commit</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.commit
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 105</span>

<span class='kw'>def</span> <span class='id commit'>commit</span>
  <span class='ivar'>@adds</span> <span class='op'>=</span> <span class='ivar'>@deletes</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id connection'>connection</span><span class='period'>.</span><span class='id commit'>commit</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="commit_if_delete_dirty-instance_method">
  
    - (<tt>Object</tt>) <strong>commit_if_delete_dirty</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.commit_if_delete_dirty
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 217</span>

<span class='kw'>def</span> <span class='id commit_if_delete_dirty'>commit_if_delete_dirty</span>
  <span class='id commit'>commit</span> <span class='kw'>if</span> <span class='id delete_dirty?'>delete_dirty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="commit_if_dirty-instance_method">
  
    - (<tt>Object</tt>) <strong>commit_if_dirty</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.commit_if_dirty
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 203</span>

<span class='kw'>def</span> <span class='id commit_if_dirty'>commit_if_dirty</span>
  <span class='id commit'>commit</span> <span class='kw'>if</span> <span class='id dirty?'>dirty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete_dirty?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>delete_dirty?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.delete_dirty?
</p>


  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


210
211
212</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 210</span>

<span class='kw'>def</span> <span class='id delete_dirty?'>delete_dirty?</span>
  <span class='ivar'>@deletes</span> <span class='op'>&gt;</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dirty?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>dirty?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.dirty?
</p>


  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


196
197
198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 196</span>

<span class='kw'>def</span> <span class='id dirty?'>dirty?</span>
  <span class='lparen'>(</span><span class='ivar'>@deletes</span> <span class='op'>+</span> <span class='ivar'>@adds</span><span class='rparen'>)</span> <span class='op'>&gt;</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="index-instance_method">
  
    - (<tt>Object</tt>) <strong>index</strong>(*objects) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.index
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 88</span>

<span class='kw'>def</span> <span class='id index'>index</span><span class='lparen'>(</span><span class='op'>*</span><span class='id objects'>objects</span><span class='rparen'>)</span>
  <span class='id objects'>objects</span><span class='period'>.</span><span class='id flatten!'>flatten!</span>
  <span class='ivar'>@adds</span> <span class='op'>+=</span> <span class='id objects'>objects</span><span class='period'>.</span><span class='id length'>length</span>
  <span class='id indexer'>indexer</span><span class='period'>.</span><span class='id add'>add</span><span class='lparen'>(</span><span class='id objects'>objects</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="index!-instance_method">
  
    - (<tt>Object</tt>) <strong>index!</strong>(*objects) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.index!
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 97</span>

<span class='kw'>def</span> <span class='id index!'>index!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id objects'>objects</span><span class='rparen'>)</span>
  <span class='id index'>index</span><span class='lparen'>(</span><span class='op'>*</span><span class='id objects'>objects</span><span class='rparen'>)</span>
  <span class='id commit'>commit</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="more_like_this-instance_method">
  
    - (<tt>Object</tt>) <strong>more_like_this</strong>(object, *types, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.more_like_this
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82
83</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 80</span>

<span class='kw'>def</span> <span class='id more_like_this'>more_like_this</span><span class='lparen'>(</span><span class='id object'>object</span><span class='comma'>,</span> <span class='op'>*</span><span class='id types'>types</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id mlt'>mlt</span> <span class='op'>=</span> <span class='id new_more_like_this'>new_more_like_this</span><span class='lparen'>(</span><span class='id object'>object</span><span class='comma'>,</span> <span class='op'>*</span><span class='id types'>types</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id mlt'>mlt</span><span class='period'>.</span><span class='id execute'>execute</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="new_more_like_this-instance_method">
  
    - (<tt>Object</tt>) <strong>new_more_like_this</strong>(object, *types, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.new_more_like_this
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67
68
69
70
71
72
73
74
75</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 65</span>

<span class='kw'>def</span> <span class='id new_more_like_this'>new_more_like_this</span><span class='lparen'>(</span><span class='id object'>object</span><span class='comma'>,</span> <span class='op'>*</span><span class='id types'>types</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id types'>types</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id object'>object</span><span class='period'>.</span><span class='id class'>class</span>
  <span class='id mlt'>mlt</span> <span class='op'>=</span> <span class='const'>Search</span><span class='op'>::</span><span class='const'>MoreLikeThisSearch</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span>
    <span class='id connection'>connection</span><span class='comma'>,</span>
    <span class='id setup_for_types'>setup_for_types</span><span class='lparen'>(</span><span class='id types'>types</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='const'>Query</span><span class='op'>::</span><span class='const'>MoreLikeThisQuery</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id object'>object</span><span class='comma'>,</span> <span class='id types'>types</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='ivar'>@config</span>
  <span class='rparen'>)</span>
  <span class='id mlt'>mlt</span><span class='period'>.</span><span class='id build'>build</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id block'>block</span>
  <span class='id mlt'>mlt</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="new_search-instance_method">
  
    - (<tt>Object</tt>) <strong>new_search</strong>(*types, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.new_search
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44
45
46
47
48
49
50
51
52</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 42</span>

<span class='kw'>def</span> <span class='id new_search'>new_search</span><span class='lparen'>(</span><span class='op'>*</span><span class='id types'>types</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id types'>types</span><span class='period'>.</span><span class='id flatten!'>flatten!</span>
  <span class='id search'>search</span> <span class='op'>=</span> <span class='const'>Search</span><span class='op'>::</span><span class='const'>StandardSearch</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span>
    <span class='id connection'>connection</span><span class='comma'>,</span>
    <span class='id setup_for_types'>setup_for_types</span><span class='lparen'>(</span><span class='id types'>types</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='const'>Query</span><span class='op'>::</span><span class='const'>StandardQuery</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id types'>types</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='ivar'>@config</span>
  <span class='rparen'>)</span>
  <span class='id search'>search</span><span class='period'>.</span><span class='id build'>build</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id block'>block</span>
  <span class='id search'>search</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="optimize-instance_method">
  
    - (<tt>Object</tt>) <strong>optimize</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.optimize
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


113
114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 113</span>

<span class='kw'>def</span> <span class='id optimize'>optimize</span>
  <span class='ivar'>@adds</span> <span class='op'>=</span> <span class='ivar'>@deletes</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id connection'>connection</span><span class='period'>.</span><span class='id optimize'>optimize</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove-instance_method">
  
    - (<tt>Object</tt>) <strong>remove</strong>(*objects, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.remove
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 121</span>

<span class='kw'>def</span> <span class='id remove'>remove</span><span class='lparen'>(</span><span class='op'>*</span><span class='id objects'>objects</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id block'>block</span>
    <span class='id types'>types</span> <span class='op'>=</span> <span class='id objects'>objects</span>
    <span class='id conjunction'>conjunction</span> <span class='op'>=</span> <span class='const'>Query</span><span class='op'>::</span><span class='const'>Connective</span><span class='op'>::</span><span class='const'>Conjunction</span><span class='period'>.</span><span class='id new'>new</span>
    <span class='kw'>if</span> <span class='id types'>types</span><span class='period'>.</span><span class='id length'>length</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='id conjunction'>conjunction</span><span class='period'>.</span><span class='id add_positive_restriction'>add_positive_restriction</span><span class='lparen'>(</span><span class='const'>TypeField</span><span class='period'>.</span><span class='id instance'>instance</span><span class='comma'>,</span> <span class='const'>Query</span><span class='op'>::</span><span class='const'>Restriction</span><span class='op'>::</span><span class='const'>EqualTo</span><span class='comma'>,</span> <span class='id types'>types</span><span class='period'>.</span><span class='id first'>first</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id conjunction'>conjunction</span><span class='period'>.</span><span class='id add_positive_restriction'>add_positive_restriction</span><span class='lparen'>(</span><span class='const'>TypeField</span><span class='period'>.</span><span class='id instance'>instance</span><span class='comma'>,</span> <span class='const'>Query</span><span class='op'>::</span><span class='const'>Restriction</span><span class='op'>::</span><span class='const'>AnyOf</span><span class='comma'>,</span> <span class='id types'>types</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id dsl'>dsl</span> <span class='op'>=</span> <span class='const'>DSL</span><span class='op'>::</span><span class='const'>Scope</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id conjunction'>conjunction</span><span class='comma'>,</span> <span class='id setup_for_types'>setup_for_types</span><span class='lparen'>(</span><span class='id types'>types</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='const'>Util</span><span class='period'>.</span><span class='id instance_eval_or_call'>instance_eval_or_call</span><span class='lparen'>(</span><span class='id dsl'>dsl</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
    <span class='id indexer'>indexer</span><span class='period'>.</span><span class='id remove_by_scope'>remove_by_scope</span><span class='lparen'>(</span><span class='id conjunction'>conjunction</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id objects'>objects</span><span class='period'>.</span><span class='id flatten!'>flatten!</span>
    <span class='ivar'>@deletes</span> <span class='op'>+=</span> <span class='id objects'>objects</span><span class='period'>.</span><span class='id length'>length</span>
    <span class='id objects'>objects</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id object'>object</span><span class='op'>|</span>
      <span class='id indexer'>indexer</span><span class='period'>.</span><span class='id remove'>remove</span><span class='lparen'>(</span><span class='id object'>object</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove!-instance_method">
  
    - (<tt>Object</tt>) <strong>remove!</strong>(*objects) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.remove!
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 145</span>

<span class='kw'>def</span> <span class='id remove!'>remove!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id objects'>objects</span><span class='rparen'>)</span>
  <span class='id remove'>remove</span><span class='lparen'>(</span><span class='op'>*</span><span class='id objects'>objects</span><span class='rparen'>)</span>
  <span class='id commit'>commit</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_all-instance_method">
  
    - (<tt>Object</tt>) <strong>remove_all</strong>(*classes) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.remove_all
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


174
175
176
177
178
179
180
181
182
183</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 174</span>

<span class='kw'>def</span> <span class='id remove_all'>remove_all</span><span class='lparen'>(</span><span class='op'>*</span><span class='id classes'>classes</span><span class='rparen'>)</span>
  <span class='id classes'>classes</span><span class='period'>.</span><span class='id flatten!'>flatten!</span>
  <span class='kw'>if</span> <span class='id classes'>classes</span><span class='period'>.</span><span class='id empty?'>empty?</span>
    <span class='ivar'>@deletes</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='id indexer'>indexer</span><span class='period'>.</span><span class='id remove_all'>remove_all</span>
  <span class='kw'>else</span>
    <span class='ivar'>@deletes</span> <span class='op'>+=</span> <span class='id classes'>classes</span><span class='period'>.</span><span class='id length'>length</span>
    <span class='id classes'>classes</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id clazz'>clazz</span><span class='op'>|</span> <span class='id indexer'>indexer</span><span class='period'>.</span><span class='id remove_all'>remove_all</span><span class='lparen'>(</span><span class='id clazz'>clazz</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_all!-instance_method">
  
    - (<tt>Object</tt>) <strong>remove_all!</strong>(*classes) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.remove_all!
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 188</span>

<span class='kw'>def</span> <span class='id remove_all!'>remove_all!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id classes'>classes</span><span class='rparen'>)</span>
  <span class='id remove_all'>remove_all</span><span class='lparen'>(</span><span class='op'>*</span><span class='id classes'>classes</span><span class='rparen'>)</span>
  <span class='id commit'>commit</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_by_id-instance_method">
  
    - (<tt>Object</tt>) <strong>remove_by_id</strong>(clazz, id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.remove_by_id
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155
156
157
158
159
160
161</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 153</span>

<span class='kw'>def</span> <span class='id remove_by_id'>remove_by_id</span><span class='lparen'>(</span><span class='id clazz'>clazz</span><span class='comma'>,</span> <span class='id id'>id</span><span class='rparen'>)</span>
  <span class='id class_name'>class_name</span> <span class='op'>=</span>
    <span class='kw'>if</span> <span class='id clazz'>clazz</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Class</span><span class='rparen'>)</span>
      <span class='id clazz'>clazz</span><span class='period'>.</span><span class='id name'>name</span>
    <span class='kw'>else</span>
      <span class='id clazz'>clazz</span><span class='period'>.</span><span class='id to_s'>to_s</span>
    <span class='kw'>end</span>
  <span class='id indexer'>indexer</span><span class='period'>.</span><span class='id remove_by_id'>remove_by_id</span><span class='lparen'>(</span><span class='id class_name'>class_name</span><span class='comma'>,</span> <span class='id id'>id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_by_id!-instance_method">
  
    - (<tt>Object</tt>) <strong>remove_by_id!</strong>(clazz, id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.remove_by_id!
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


166
167
168
169</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 166</span>

<span class='kw'>def</span> <span class='id remove_by_id!'>remove_by_id!</span><span class='lparen'>(</span><span class='id clazz'>clazz</span><span class='comma'>,</span> <span class='id id'>id</span><span class='rparen'>)</span>
  <span class='id remove_by_id'>remove_by_id</span><span class='lparen'>(</span><span class='id clazz'>clazz</span><span class='comma'>,</span> <span class='id id'>id</span><span class='rparen'>)</span>
  <span class='id commit'>commit</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="search-instance_method">
  
    - (<tt>Object</tt>) <strong>search</strong>(*types, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
See Sunspot.search
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sunspot/lib/sunspot/session.rb', line 57</span>

<span class='kw'>def</span> <span class='id search'>search</span><span class='lparen'>(</span><span class='op'>*</span><span class='id types'>types</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id search'>search</span> <span class='op'>=</span> <span class='id new_search'>new_search</span><span class='lparen'>(</span><span class='op'>*</span><span class='id types'>types</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id search'>search</span><span class='period'>.</span><span class='id execute'>execute</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Nov 26 13:47:19 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.3 (ruby-1.9.2).
</div>

  </body>
</html>