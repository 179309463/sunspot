<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: Sunspot::Adapters [Sunspot 0.10.0 - Solr-powered search for Ruby objects - API Documentation]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Module</span>
          Sunspot::Adapters
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../files/lib/sunspot/adapters_rb.html">lib/sunspot/adapters.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v0.10.0/lib/sunspot/adapters.rb">view online</a>)
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            <a href="../Sunspot.html">Sunspot</a> works by saving references to the
            primary key (or natural ID) of each indexed object, and then retrieving the
            objects from persistent storage when their IDs are referenced in search
            results. In order for <a href="../Sunspot.html">Sunspot</a> to know what an
            object&#8217;s primary key is, and how to retrieve objects from persistent
            storage given a primary key, an adapter must be registered for that
            object&#8217;s class or one of its superclasses (for instance, an adapter
            registered for ActiveRecord::Base would be used for all ActiveRecord
            models).
            </p>
            <p>
            To provide <a href="../Sunspot.html">Sunspot</a> with this ability,
            adapters must have two roles:
            </p>
            <table>
            <tr><td valign="top">Data accessor:</td><td>A subclass of <a
            href="Adapters/DataAccessor.html">Sunspot::Adapters::DataAccessor</a>, this
            object is instantiated with a particular class and must respond to the
            load() method, which returns an object from persistent storage given that
            object&#8217;s primary key. It can also optionally implement the load_all()
            method, which returns a collection of objects given a collection of primary
            keys, if that can be done more efficiently than calling load() on each key.
            
            </td></tr>
            <tr><td valign="top">Instance adapter:</td><td>A subclass of <a
            href="Adapters/InstanceAdapter.html">Sunspot::Adapters::InstanceAdapter</a>,
            this object is instantiated with a particular instance. Its only job is to
            tell <a href="../Sunspot.html">Sunspot</a> what the object&#8217;s primary
            key is, by implementing the id() method.
            
            </td></tr>
            </table>
            <p>
            <a href="Adapters.html">Adapters</a> are registered by registering their
            two components, telling <a href="../Sunspot.html">Sunspot</a> that they are
            available for one or more classes, and all of their subclasses. See <a
            href="Adapters/DataAccessor.html#M000021">Sunspot::Adapters::DataAccessor.register</a>
            and <a
            href="Adapters/InstanceAdapter.html#M000019">Sunspot::Adapters::InstanceAdapter.register</a>
            for the details.
            </p>
            <p>
            See spec/mocks/mock_adapter.rb for an example of how adapter classes should
            be implemented.
            </p>
          </div>
          <div id='section'>
            <div id='class-list'>
              <h2>Classes and Modules</h2>
              Class <a href="Adapters/DataAccessor.html" class="link">Sunspot::Adapters::DataAccessor</a><br />
              Class <a href="Adapters/InstanceAdapter.html" class="link">Sunspot::Adapters::InstanceAdapter</a><br />
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
