<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Sunspot::Adapters
  
    &mdash; Documentation by YARD 0.7.3
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (A)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Sunspot.html" title="Sunspot (module)">Sunspot</a></span></span>
     &raquo; 
    <span class="title">Adapters</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Sunspot::Adapters
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">sunspot/lib/sunspot/adapters.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Sunspot works by saving references to the primary key (or natural ID) of
each indexed object, and then retrieving the objects from persistent
storage when their IDs are referenced in search results. In order for
Sunspot to know what an object&#8217;s primary key is, and how to retrieve
objects from persistent storage given a primary key, an adapter must be
registered for that object&#8217;s class or one of its superclasses (for
instance, an adapter registered for ActiveRecord::Base would be used for
all ActiveRecord models).
</p>
<p>
To provide Sunspot with this ability, adapters must have two roles:
</p>
<table>
<tr><td valign="top">Data accessor</td><td><p>
A subclass of Sunspot::Adapters::DataAccessor, this object is instantiated
with a particular class and must respond to the #load() method, which
returns an object from persistent storage given that object&#8217;s primary
key. It can also optionally implement the #load_all() method, which returns
a collection of objects given a collection of primary keys, if that can be
done more efficiently than calling #load() on each key.
</p>
</td></tr>
<tr><td valign="top">Instance adapter</td><td><p>
A subclass of Sunspot::Adapters::InstanceAdapter, this object is
instantiated with a particular instance. Its only job is to tell Sunspot
what the object&#8217;s primary key is, by implementing the #id() method.
</p>
</td></tr>
</table>
<p>
Adapters are registered by registering their two components, telling
Sunspot that they are available for one or more classes, and all of their
subclasses. See Sunspot::Adapters::DataAccessor.register and
Sunspot::Adapters::InstanceAdapter.register for the details.
</p>
<p>
See spec/mocks/mock_adapter.rb for an example of how adapter classes should
be implemented.
</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Adapters/DataAccessor.html" title="Sunspot::Adapters::DataAccessor (class)">DataAccessor</a></span>, <span class='object_link'><a href="Adapters/InstanceAdapter.html" title="Sunspot::Adapters::InstanceAdapter (class)">InstanceAdapter</a></span>
    
  
</p>







</div>
    
    <div id="footer">
  Generated on Sat Nov 26 13:47:19 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.3 (ruby-1.9.2).
</div>

  </body>
</html>