<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: Sunspot [Sunspot 1.0.3 - Solr-powered search for Ruby objects - API Documentation]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Module</span>
          Sunspot
        </h1>
        <ol class='paths'>
          <li>
            <a href="../files/lib/sunspot_rb.html">lib/sunspot.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/session_rb.html">lib/sunspot/session.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/session.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/type_rb.html">lib/sunspot/type.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/type.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/version_rb.html">lib/sunspot/version.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/version.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/search/facet_row_rb.html">lib/sunspot/search/facet_row.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/search/facet_row.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/search/hit_rb.html">lib/sunspot/search/hit.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/search/hit.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/search/highlight_rb.html">lib/sunspot/search/highlight.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/search/highlight.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/search/query_facet_rb.html">lib/sunspot/search/query_facet.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/search/query_facet.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/search/field_facet_rb.html">lib/sunspot/search/field_facet.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/search/field_facet.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/search/date_facet_rb.html">lib/sunspot/search/date_facet.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/search/date_facet.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/text_field_setup_rb.html">lib/sunspot/text_field_setup.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/text_field_setup.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/dismax_rb.html">lib/sunspot/query/dismax.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/dismax.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/adapters_rb.html">lib/sunspot/adapters.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/adapters.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/sort_rb.html">lib/sunspot/query/sort.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/sort.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/connective_rb.html">lib/sunspot/query/connective.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/connective.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/highlighting_rb.html">lib/sunspot/query/highlighting.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/highlighting.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/scope_rb.html">lib/sunspot/query/scope.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/scope.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/restriction_rb.html">lib/sunspot/query/restriction.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/restriction.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/sort_composite_rb.html">lib/sunspot/query/sort_composite.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/sort_composite.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/filter_rb.html">lib/sunspot/query/filter.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/filter.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/pagination_rb.html">lib/sunspot/query/pagination.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/pagination.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/abstract_field_facet_rb.html">lib/sunspot/query/abstract_field_facet.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/abstract_field_facet.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/boost_query_rb.html">lib/sunspot/query/boost_query.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/boost_query.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/query_facet_rb.html">lib/sunspot/query/query_facet.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/query_facet.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/date_field_facet_rb.html">lib/sunspot/query/date_field_facet.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/date_field_facet.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/text_field_boost_rb.html">lib/sunspot/query/text_field_boost.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/text_field_boost.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/local_rb.html">lib/sunspot/query/local.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/local.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/query_rb.html">lib/sunspot/query/query.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/query.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query/field_facet_rb.html">lib/sunspot/query/field_facet.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query/field_facet.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/session_proxy/thread_local_session_proxy_rb.html">lib/sunspot/session_proxy/thread_local_session_proxy.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/session_proxy/thread_local_session_proxy.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/session_proxy/class_sharding_session_proxy_rb.html">lib/sunspot/session_proxy/class_sharding_session_proxy.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/session_proxy/class_sharding_session_proxy.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/session_proxy/master_slave_session_proxy_rb.html">lib/sunspot/session_proxy/master_slave_session_proxy.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/session_proxy/master_slave_session_proxy.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/session_proxy/abstract_session_proxy_rb.html">lib/sunspot/session_proxy/abstract_session_proxy.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/session_proxy/abstract_session_proxy.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/session_proxy/id_sharding_session_proxy_rb.html">lib/sunspot/session_proxy/id_sharding_session_proxy.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/session_proxy/id_sharding_session_proxy.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/session_proxy/sharding_session_proxy_rb.html">lib/sunspot/session_proxy/sharding_session_proxy.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/session_proxy/sharding_session_proxy.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/schema_rb.html">lib/sunspot/schema.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/schema.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/configuration_rb.html">lib/sunspot/configuration.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/configuration.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/installer/solrconfig_updater_rb.html">lib/sunspot/installer/solrconfig_updater.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/installer/solrconfig_updater.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/installer/library_installer_rb.html">lib/sunspot/installer/library_installer.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/installer/library_installer.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/installer/schema_builder_rb.html">lib/sunspot/installer/schema_builder.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/installer/schema_builder.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/installer/task_helper_rb.html">lib/sunspot/installer/task_helper.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/installer/task_helper.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/server_rb.html">lib/sunspot/server.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/server.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/search_rb.html">lib/sunspot/search.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/search.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/composite_setup_rb.html">lib/sunspot/composite_setup.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/composite_setup.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/installer_rb.html">lib/sunspot/installer.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/installer.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/setup_rb.html">lib/sunspot/setup.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/setup.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/data_extractor_rb.html">lib/sunspot/data_extractor.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/data_extractor.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/field_rb.html">lib/sunspot/field.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/field.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/indexer_rb.html">lib/sunspot/indexer.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/indexer.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/query_rb.html">lib/sunspot/query.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/query.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/util_rb.html">lib/sunspot/util.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/util.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/dsl/fulltext_rb.html">lib/sunspot/dsl/fulltext.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/dsl/fulltext.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/dsl/fields_rb.html">lib/sunspot/dsl/fields.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/dsl/fields.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/dsl/scope_rb.html">lib/sunspot/dsl/scope.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/dsl/scope.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/dsl/restriction_rb.html">lib/sunspot/dsl/restriction.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/dsl/restriction.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/dsl/search_rb.html">lib/sunspot/dsl/search.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/dsl/search.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/dsl/query_facet_rb.html">lib/sunspot/dsl/query_facet.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/dsl/query_facet.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/dsl/query_rb.html">lib/sunspot/dsl/query.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/dsl/query.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/dsl/field_query_rb.html">lib/sunspot/dsl/field_query.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/dsl/field_query.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/field_factory_rb.html">lib/sunspot/field_factory.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/field_factory.rb">view online</a>)
          </li>
          <li class='other'>
            <a href="../files/lib/sunspot/session_proxy_rb.html">lib/sunspot/session_proxy.rb</a>
            (<a href="http://github.com/outoftime/sunspot/tree/v1.0.3/lib/sunspot/session_proxy.rb">view online</a>)
          </li>
          <li>
            <a class='show' href='#' onclick='this.parentNode.parentNode.className += " expanded"; this.parentNode.removeChild(this); return false'>show all</a>
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            The <a href="Sunspot.html">Sunspot</a> module provides class-method entry
            points to most of the functionality provided by the <a
            href="Sunspot.html">Sunspot</a> library. Internally, the <a
            href="Sunspot.html">Sunspot</a> singleton class contains a
            (non-thread-safe!) instance of <a
            href="Sunspot/Session.html">Sunspot::Session</a>, to which it delegates
            most of the class methods it exposes. In the method documentation below,
            this instance is referred to as the &#8220;singleton session&#8221;.
            </p>
            <p>
            Though the singleton session provides a convenient entry point to <a
            href="Sunspot.html">Sunspot</a>, it is by no means required to use the <a
            href="Sunspot.html">Sunspot</a> class methods. Multiple sessions may be
            instantiated and used (if you need to connect to multiple Solr instances,
            for example.)
            </p>
            <p>
            Note that the configuration of classes for index/search (the <tt>setup</tt>
            method) is <em>not</em> session-specific, but rather global.
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M000013">batch</a></li>
              <li><a href="#M000004">commit</a></li>
              <li><a href="#M000017">commit_if_delete_dirty</a></li>
              <li><a href="#M000015">commit_if_dirty</a></li>
              <li><a href="#M000018">config</a></li>
              <li><a href="#M000016">delete_dirty?</a></li>
              <li><a href="#M000014">dirty?</a></li>
              <li><a href="#M000002">index</a></li>
              <li><a href="#M000003">index!</a></li>
              <li><a href="#M000005">new_search</a></li>
              <li><a href="#M000007">remove</a></li>
              <li><a href="#M000008">remove!</a></li>
              <li><a href="#M000011">remove_all</a></li>
              <li><a href="#M000012">remove_all!</a></li>
              <li><a href="#M000009">remove_by_id</a></li>
              <li><a href="#M000010">remove_by_id!</a></li>
              <li><a href="#M000019">reset!</a></li>
              <li><a href="#M000006">search</a></li>
              <li><a href="#M000001">setup</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='class-list'>
              <h2>Classes and Modules</h2>
              Module <a href="Sunspot/Adapters.html" class="link">Sunspot::Adapters</a><br />
              Module <a href="Sunspot/Configuration.html" class="link">Sunspot::Configuration</a><br />
              Module <a href="Sunspot/SessionProxy.html" class="link">Sunspot::SessionProxy</a><br />
              Module <a href="Sunspot/Type.html" class="link">Sunspot::Type</a><br />
              Class <a href="Sunspot/Installer.html" class="link">Sunspot::Installer</a><br />
              Class <a href="Sunspot/Search.html" class="link">Sunspot::Search</a><br />
              Class <a href="Sunspot/Session.html" class="link">Sunspot::Session</a><br />
            </div>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>UnrecognizedFieldError</td>
                    <td>=</td>
                    <td class='context-item-value'>Class.new(StandardError)</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>UnrecognizedRestrictionError</td>
                    <td>=</td>
                    <td class='context-item-value'>Class.new(StandardError)</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>NoAdapterError</td>
                    <td>=</td>
                    <td class='context-item-value'>Class.new(StandardError)</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>NoSetupError</td>
                    <td>=</td>
                    <td class='context-item-value'>Class.new(StandardError)</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>IllegalSearchError</td>
                    <td>=</td>
                    <td class='context-item-value'>Class.new(StandardError)</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>NotImplementedError</td>
                    <td>=</td>
                    <td class='context-item-value'>Class.new(StandardError)</td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>VERSION</td>
                    <td>=</td>
                    <td class='context-item-value'>'1.0.3'</td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>session</td>
                    <td class='context-item-value'>[W]</td>
                    <td class='context-item-desc'>
                      
                      Clients can inject a session proxy, allowing them to implement custom
                      session-management logic while retaining the <a
                      href="Sunspot.html">Sunspot</a> singleton API as an available interface.
                      The object assigned to this attribute must respond to all of the public
                      methods of the <a href="Sunspot/Session.html">Sunspot::Session</a> class.
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='public-class method' id='method-M000013'>
                <a name='M000013'>      </a>
                <div class='synopsis'>
                  <span class='name'>batch</span>
                  <span class='arguments'>(&amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Process all adds in a batch. Any <a href="Sunspot.html">Sunspot</a> adds
                  initiated inside the block will be sent in bulk when the block finishes.
                  Useful if your application initiates index adds from various places in code
                  as part of a single operation; doing a batch add will give better
                  performance.
                  </p>
                  <h4>Example</h4>
                  <pre>Sunspot.batch do&#x000A;  post = Post.new&#x000A;  Sunspot.add(post)&#x000A;  comment = Comment.new&#x000A;  Sunspot.add(comment)&#x000A;end</pre>
                  <p>
                  <a href="Sunspot.html">Sunspot</a> will send both the post and the comment
                  in a single request.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000013-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000013-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 438</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">batch</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">batch</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000004'>
                <a name='M000004'>      </a>
                <div class='synopsis'>
                  <span class='name'>commit</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Commits the singleton session
                  </p>
                  <p>
                  When documents are added to or removed from Solr, the changes are initially
                  stored in memory, and are not reflected in Solr&#8217;s existing searcher
                  instance. When a commit message is sent, the changes are written to disk,
                  and a new searcher is spawned. Commits are thus fairly expensive, so if
                  your application needs to index several documents as part of a single
                  operation, it is advisable to index them all and then call commit at the
                  end of the operation.
                  </p>
                  <p>
                  Note that Solr can also be configured to automatically perform a commit
                  after either a specified interval after the last change, or after a
                  specified number of documents are added. See <a
                  href="http://wiki.apache.org/solr/SolrConfigXml">wiki.apache.org/solr/SolrConfigXml</a>
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000004-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000004-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 205</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit</span>&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">commit</span>&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000017'>
                <a name='M000017'>      </a>
                <div class='synopsis'>
                  <span class='name'>commit_if_delete_dirty</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Sends a commit if the session has deletes since the last commit (see <a
                  href="Sunspot.html#M000016">delete_dirty?</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000017-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000017-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 475</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit_if_delete_dirty</span>&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">commit_if_delete_dirty</span>&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000015'>
                <a name='M000015'>      </a>
                <div class='synopsis'>
                  <span class='name'>commit_if_dirty</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Sends a commit if the session is dirty (see <a
                  href="Sunspot.html#M000014">dirty?</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000015-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000015-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 457</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit_if_dirty</span>&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">commit_if_dirty</span>&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000018'>
                <a name='M000018'>      </a>
                <div class='synopsis'>
                  <span class='name'>config</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns the configuration associated with the singleton session. See <a
                  href="Sunspot/Configuration.html">Sunspot::Configuration</a> for details.
                  </p>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">LightConfig::Configuration:</td><td>configuration for singleton session
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000018-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000018-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 486</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">config</span>&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">config</span>&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000016'>
                <a name='M000016'>      </a>
                <div class='synopsis'>
                  <span class='name'>delete_dirty?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  True if documents have been removed since the last commit.
                  </p>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Boolean:</td><td>Whether there have been any deletes since the last commit
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000016-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000016-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 468</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_dirty?</span>&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">delete_dirty?</span>&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000014'>
                <a name='M000014'>      </a>
                <div class='synopsis'>
                  <span class='name'>dirty?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  True if documents have been added, updated, or removed since the last
                  commit.
                  </p>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Boolean:</td><td>Whether there have been any updates since the last commit
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000014-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000014-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 450</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dirty?</span>&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">dirty?</span>&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000002'>
                <a name='M000002'>      </a>
                <div class='synopsis'>
                  <span class='name'>index</span>
                  <span class='arguments'>(*objects)</span>
                </div>
                <div class='description'>
                  <p>
                  Indexes objects on the singleton session.
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">objects...<Object>:</td><td>objects to index (may pass an array or varargs)
                  
                  </td></tr>
                  </table>
                  <h4>Example</h4>
                  <pre>post1, post2 = new Array(2) { Post.create }&#x000A;Sunspot.index(post1, post2)</pre>
                  <p>
                  Note that indexed objects won&#8217;t be reflected in search until a commit
                  is sent - see <a href="Sunspot.html#M000003">Sunspot.index!</a> and <a
                  href="Sunspot.html#M000004">Sunspot.commit</a>
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000002-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000002-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 174</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">index</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">objects</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">index</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">objects</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000003'>
                <a name='M000003'>      </a>
                <div class='synopsis'>
                  <span class='name'>index!</span>
                  <span class='arguments'>(*objects)</span>
                </div>
                <div class='description'>
                  <p>
                  Indexes objects on the singleton session and commits immediately.
                  </p>
                  <p>
                  See: <a href="Sunspot.html#M000002">Sunspot.index</a> and <a
                  href="Sunspot.html#M000004">Sunspot.commit</a>
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">objects...<Object>:</td><td>objects to index (may pass an array or varargs)
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000003-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000003-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 186</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">index!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">objects</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">index!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">objects</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000005'>
                <a name='M000005'>      </a>
                <div class='synopsis'>
                  <span class='name'>new_search</span>
                  <span class='arguments'>(*types, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Create a new <a href="Sunspot/Search.html">Search</a> instance, but do not
                  execute it immediately. Generally you will want to use the <a
                  href="Sunspot.html#M000006">search</a> method to build and execute searches
                  in one step, but if you are building searches piecemeal you may call <a
                  href="Sunspot.html#M000005">new_search</a> and then call build one or more
                  times to add components to the query.
                  </p>
                  <h4>Example</h4>
                  <pre>search = Sunspot.new_search do&#x000A;  with(:blog_id, 1)&#x000A;end&#x000A;search.build do&#x000A;  keywords('some keywords')&#x000A;end&#x000A;search.build do&#x000A;  order_by(:published_at, :desc)&#x000A;end&#x000A;search.execute&#x000A;&#x000A;# This is equivalent to:&#x000A;Sunspot.search do&#x000A;  with(:blog_id, 1)&#x000A;  keywords('some keywords')&#x000A;  order_by(:published_at, :desc)&#x000A;end</pre>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">types<Class>&#8230;:</td><td>One or more types to search for. If no types are passed, all configured
                  types will be searched for.
                  
                  </td></tr>
                  </table>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Sunspot::Search:</td><td><a href="Sunspot/Search.html">Search</a> object, not yet executed. Query
                  parameters can be added manually; then execute! should be called.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000005-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000005-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 248</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new_search</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">new_search</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000007'>
                <a name='M000007'>      </a>
                <div class='synopsis'>
                  <span class='name'>remove</span>
                  <span class='arguments'>(*objects, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Remove objects from the index. Any time an object is destroyed, it must be
                  removed from the index; otherwise, the index will contain broken references
                  to objects that do not exist, which will cause errors when those objects
                  are matched in search results.
                  </p>
                  <p>
                  If a block is passed, it is evaluated as a search scope; in this way,
                  documents can be removed by an arbitrary query. In this case, the arguments
                  to the method should be the classes to run the query on.
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">objects...<Object>:</td><td>Objects to remove from the index (may pass an array or varargs)
                  
                  </td></tr>
                  </table>
                  <h4>Example (remove a document)</h4>
                  <pre>post.destroy&#x000A;Sunspot.remove(post)</pre>
                  <h4>Example (remove by query)</h4>
                  <pre>Sunspot.remove(Post) do&#x000A;  with(:created_at).less_than(Time.now - 14.days)&#x000A;end</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000007-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000007-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 351</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">objects</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">remove</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">objects</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000008'>
                <a name='M000008'>      </a>
                <div class='synopsis'>
                  <span class='name'>remove!</span>
                  <span class='arguments'>(*objects)</span>
                </div>
                <div class='description'>
                  <p>
                  Remove objects from the index and immediately commit. See <a
                  href="Sunspot.html#M000007">Sunspot.remove</a>
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">objects...<Object>:</td><td>Objects to remove from the index
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000008-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000008-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 362</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">objects</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">remove!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">objects</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000011'>
                <a name='M000011'>      </a>
                <div class='synopsis'>
                  <span class='name'>remove_all</span>
                  <span class='arguments'>(*classes)</span>
                </div>
                <div class='description'>
                  <p>
                  Remove all objects of the given classes from the index. There isn&#8217;t
                  much use for this in general operations but it can be useful for
                  maintenance, testing, etc. If no arguments are passed, remove everything
                  from the index.
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">classes...<Class>:</td><td>classes for which to remove all instances from the index (may pass an array
                  or varargs)
                  
                  </td></tr>
                  </table>
                  <h4>Example</h4>
                  <pre>Sunspot.remove_all(Post, Blog)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000011-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000011-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 405</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_all</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">classes</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">remove_all</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">classes</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000012'>
                <a name='M000012'>      </a>
                <div class='synopsis'>
                  <span class='name'>remove_all!</span>
                  <span class='arguments'>(*classes)</span>
                </div>
                <div class='description'>
                  <p>
                  Remove all objects of the given classes from the index and immediately
                  commit. See <a href="Sunspot.html#M000011">Sunspot.remove_all</a>
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">classes...<Class>:</td><td>classes for which to remove all instances from the index
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000012-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000012-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 417</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_all!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">classes</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">remove_all!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">classes</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000009'>
                <a name='M000009'>      </a>
                <div class='synopsis'>
                  <span class='name'>remove_by_id</span>
                  <span class='arguments'>(clazz, id)</span>
                </div>
                <div class='description'>
                  <p>
                  Remove an object from the index using its class name and primary key.
                  Useful if you know this information and want to remove an object without
                  instantiating it from persistent storage
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">clazz<Class>:</td><td>Class of the object, or class name as a string or symbol
                  
                  </td></tr>
                  <tr><td valign="top">id:</td><td>Primary key of the object. This should be the same id that would be
                  returned by the class&#8217;s instance adapter.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000009-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000009-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 378</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_by_id</span>(<span class="ruby-identifier">clazz</span>, <span class="ruby-identifier">id</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">remove_by_id</span>(<span class="ruby-identifier">clazz</span>, <span class="ruby-identifier">id</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000010'>
                <a name='M000010'>      </a>
                <div class='synopsis'>
                  <span class='name'>remove_by_id!</span>
                  <span class='arguments'>(clazz, id)</span>
                </div>
                <div class='description'>
                  <p>
                  Remove an object by class name and primary key, and immediately commit. See
                  <a href="Sunspot.html#M000009">remove_by_id</a> and <a
                  href="Sunspot.html#M000004">commit</a>
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000010-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000010-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 386</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_by_id!</span>(<span class="ruby-identifier">clazz</span>, <span class="ruby-identifier">id</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">remove_by_id!</span>(<span class="ruby-identifier">clazz</span>, <span class="ruby-identifier">id</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000019'>
                <a name='M000019'>      </a>
                <div class='synopsis'>
                  <span class='name'>reset!</span>
                  <span class='arguments'>(keep_config = false)</span>
                </div>
                <div class='description'>
                  <p>
                  Resets the singleton session. This is useful for clearing out all static
                  data between tests, but probably nowhere else.
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">keep_config<Boolean>:</td><td>Whether to retain the configuration used by the current singleton session.
                  Default false.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000019-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000019-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 500</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset!</span>(<span class="ruby-identifier">keep_config</span> = <span class="ruby-keyword kw">false</span>)&#x000A;      <span class="ruby-identifier">config</span> =&#x000A;        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">keep_config</span>&#x000A;          <span class="ruby-identifier">session</span>.<span class="ruby-identifier">config</span>&#x000A;        <span class="ruby-keyword kw">else</span>&#x000A;          <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">build</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-ivar">@session</span> = <span class="ruby-constant">Session</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">config</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000006'>
                <a name='M000006'>      </a>
                <div class='synopsis'>
                  <span class='name'>search</span>
                  <span class='arguments'>(*types, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  <a href="Sunspot/Search.html">Search</a> for objects in the index.
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">types<Class>&#8230;:</td><td>One or more types to search for. If no types are passed, all configured
                  types will be searched.
                  
                  </td></tr>
                  </table>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Sunspot::Search:</td><td>Object containing results, facets, count, etc.
                  
                  </td></tr>
                  </table>
                  <p>
                  The fields available for restriction, ordering, etc. are those that meet
                  the following criteria:
                  </p>
                  <ul>
                  <li>They are not of type <tt>text</tt>.
                  
                  </li>
                  <li>They are defined for at least one of the classes being searched
                  
                  </li>
                  <li>They have the same data type for all of the classes being searched.
                  
                  </li>
                  <li>They have the same multiple flag for all of the classes being searched.
                  
                  </li>
                  <li>They have the same stored flag for all of the classes being searched.
                  
                  </li>
                  </ul>
                  <p>
                  The restrictions available are the constants defined in the
                  Sunspot::Restriction class. The standard restrictions are:
                  </p>
                  <pre>with(:field_name).equal_to(value)&#x000A;with(:field_name, value) # shorthand for above&#x000A;with(:field_name).less_than(value)&#x000A;with(:field_name).greater_than(value)&#x000A;with(:field_name).between(value1..value2)&#x000A;with(:field_name).any_of([value1, value2, value3])&#x000A;with(:field_name).all_of([value1, value2, value3])&#x000A;without(some_instance) # exclude that particular instance</pre>
                  <p>
                  <tt>without</tt> can be substituted for <tt>with</tt>, causing the
                  restriction to be negated. In the last example above, only <tt>without</tt>
                  works, as it does not make sense to search only for an instance you already
                  have.
                  </p>
                  <p>
                  Equality restrictions can take <tt>nil</tt> as a value, which restricts the
                  results to documents that have no value for the given field. Passing
                  <tt>nil</tt> as a value to other restriction types is illegal. Thus:
                  </p>
                  <pre>with(:field_name, nil) # ok&#x000A;with(:field_name).equal_to(nil) # ok&#x000A;with(:field_name).less_than(nil) # bad</pre>
                  <h4>Example</h4>
                  <pre>Sunspot.search(Post) do&#x000A;  keywords 'great pizza'&#x000A;  with(:published_at).less_than Time.now&#x000A;  with :blog_id, 1&#x000A;  without current_post&#x000A;  facet :category_ids&#x000A;  order_by :published_at, :desc&#x000A;  paginate 2, 15&#x000A;end</pre>
                  <p>
                  If the block passed to <a href="Sunspot.html#M000006">search</a> takes an
                  argument, that argument will present the DSL, and the block will be
                  evaluated in the calling context. This will come in handy for building
                  searches using instance data or methods, e.g.:
                  </p>
                  <pre>Sunspot.search(Post) do |query|&#x000A;  query.with(:blog_id, @current_blog.id)&#x000A;end</pre>
                  <p>
                  See <a href="Sunspot/DSL/Search.html">Sunspot::DSL::Search</a>, <a
                  href="Sunspot/DSL/Scope.html">Sunspot::DSL::Scope</a>, <a
                  href="Sunspot/DSL/FieldQuery.html">Sunspot::DSL::FieldQuery</a> and <a
                  href="Sunspot/DSL/Query.html">Sunspot::DSL::Query</a> for the full API
                  presented inside the block.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000006-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000006-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 322</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">search</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">search</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-class method' id='method-M000001'>
                <a name='M000001'>      </a>
                <div class='synopsis'>
                  <span class='name'>setup</span>
                  <span class='arguments'>(clazz, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Configures indexing and search for a given class.
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">clazz<Class>:</td><td>class to configure
                  
                  </td></tr>
                  </table>
                  <h4>Example</h4>
                  <pre>Sunspot.setup(Post) do&#x000A;  text :title, :body&#x000A;  string :author_name&#x000A;  integer :blog_id&#x000A;  integer :category_ids&#x000A;  float :average_rating, :using =&gt; :ratings_average&#x000A;  time :published_at&#x000A;  string :sort_title do&#x000A;    title.downcase.sub(/^(an?|the)\W+/, ''/) if title = self.title&#x000A;  end&#x000A;end</pre>
                  <h6>Attribute Fields vs. Virtual Fields</h6>
                  <p>
                  Attribute fields call a method on the indexed object and index the return
                  value. All of the fields defined above except for the last one are
                  attribute fields. By default, the field name will also be the attribute
                  used; this can be overriden with the <tt>:using</tt> option, as in
                  <tt>:average_rating</tt> above. In that case, the attribute
                  <tt>:ratings_average</tt> will be indexed with the field name
                  <tt>:average_rating</tt>.
                  </p>
                  <p>
                  <tt>:sort_title</tt> is a virtual field, which evaluates the block inside
                  the context of the instance being indexed, and indexes the value returned
                  by the block. If the block you pass takes an argument, it will be passed
                  the instance rather than being evaluated inside of it; so, the following
                  example is equivalent to the one above (assuming title is public):
                  </p>
                  <pre>Sunspot.setup(Post) do&#x000A;  string :sort_title do |post|&#x000A;    post.title.downcase.sub(/^(an?|the)\W+/, ''/) if title = self.title&#x000A;  end&#x000A;end</pre>
                  <h5>Field Types</h5>
                  <p>
                  The available types are:
                  </p>
                  <ul>
                  <li><tt>text</tt>
                  
                  </li>
                  <li><tt>string</tt>
                  
                  </li>
                  <li><tt>integer</tt>
                  
                  </li>
                  <li><tt>float</tt>
                  
                  </li>
                  <li><tt>time</tt>
                  
                  </li>
                  <li><tt>boolean</tt>
                  
                  </li>
                  </ul>
                  <p>
                  Note that the <tt>text</tt> type behaves quite differently from the others
                  - this is the type that is indexed as fulltext, and is searched using the
                  <tt>keywords</tt> method inside the search DSL. Text fields cannot have
                  restrictions set on them, nor can they be used in order statements or for
                  facets. All other types are indexed literally, and thus can be used for all
                  of those operations. They will not, however, be searched in fulltext. In
                  this way, <a href="Sunspot.html">Sunspot</a> provides a complete barrier
                  between fulltext fields and value fields.
                  </p>
                  <p>
                  It is fine to specify a field both as a text field and a string field;
                  internally, the fields will have different names so there is no danger of
                  conflict.
                  </p>
                  <h5>Dynamic Fields</h5>
                  <p>
                  For use cases which have highly dynamic data models (for instance, an open
                  set of key-value pairs attached to a model), it may be useful to defer
                  definition of fields until indexing time. <a
                  href="Sunspot.html">Sunspot</a> exposes dynamic fields, which define a data
                  accessor (either attribute or virtual, see above), which accepts a hash of
                  field names to values. Note that the field names in the hash are internally
                  scoped to the base name of the dynamic field, so any time they are referred
                  to, they are referred to using both the base name and the dynamic
                  (runtime-specified) name.
                  </p>
                  <p>
                  Dynamic fields are speficied in the setup block using the type name
                  prefixed by <tt>dynamic_</tt>. For example:
                  </p>
                  <pre>Sunspot.setup(Post) do&#x000A;  dynamic_string :custom_values do&#x000A;    key_value_pairs.inject({}) do |hash, key_value_pair|&#x000A;      hash[key_value_pair.key.to_sym] = key_value_pair.value&#x000A;    end&#x000A;  end&#x000A;end</pre>
                  <p>
                  If you later wanted to facet all of the values for the key
                  &#8220;cuisine&#8221;, you could issue:
                  </p>
                  <pre>Sunspot.search(Post) do&#x000A;  dynamic :custom_values do&#x000A;    facet :cuisine&#x000A;  end&#x000A;end</pre>
                  <p>
                  In the documentation, <tt>:custom_values</tt> is referred to as the
                  &#8220;base name&#8221; - that is, the one specified statically - and
                  <tt>:cuisine</tt> is referred to as the dynamic name, which is the part
                  that is specified at indexing time.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000001-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000001-source'><span class="ruby-comment cmt"># File lib/sunspot.rb, line 156</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>(<span class="ruby-identifier">clazz</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;      <span class="ruby-constant">Setup</span>.<span class="ruby-identifier">setup</span>(<span class="ruby-identifier">clazz</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
