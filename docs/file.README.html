<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.7.3
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: README</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h1>Sunspot</h1>

<p><a href="http://travis-ci.org/sunspot/sunspot"><img src="http://travis-ci.org/sunspot/sunspot.png" alt="Build Status">
</a></p>

<p>Sunspot is a Ruby library for expressive, powerful interaction with the Solr
search engine. Sunspot is built on top of the RSolr library, which
provides a low-level interface for Solr interaction; Sunspot provides a simple,
intuitive, expressive DSL backed by powerful features for indexing objects and
searching for them.</p>

<p>Sunspot is designed to be easily plugged in to any ORM, or even non-database-backed
objects such as the filesystem.</p>

<p>This README provides a high level overview; class-by-class and
method-by-method documentation is available in the <a href="http://sunspot.github.com/sunspot/docs/">API
reference</a>.</p>

<h2>Quickstart with Rails 3</h2>

<p>Add to Gemfile:</p>

<pre class="code ruby"><span class='id gem'>gem</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sunspot_rails</span><span class='tstring_end'>'</span></span>
<span class='id gem'>gem</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sunspot_solr</span><span class='tstring_end'>'</span></span> <span class='comment'># optional pre-packaged Solr distribution for use in development
</span></pre>

<p>Bundle it!</p>

<pre class="code bash">bundle install
</pre>

<p>Generate a default configuration file:</p>

<pre class="code bash">rails generate sunspot_rails:install
</pre>

<p>If <code>sunspot_solr</code> was installed, start the packaged Solr distribution
with:</p>

<pre class="code bash">bundle exec rake sunspot:solr:start # or sunspot:solr:run to start in foreground
</pre>

<h2>Setting Up Objects</h2>

<p>Add a <code>searchable</code> block to the objects you wish to index.</p>

<pre class="code ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='id searchable'>searchable</span> <span class='kw'>do</span>
    <span class='id text'>text</span> <span class='symbol'>:title</span><span class='comma'>,</span> <span class='symbol'>:body</span>
    <span class='id text'>text</span> <span class='symbol'>:comments</span> <span class='kw'>do</span>
      <span class='id comments'>comments</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id comment'>comment</span><span class='op'>|</span> <span class='id comment'>comment</span><span class='period'>.</span><span class='id body'>body</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='id boolean'>boolean</span> <span class='symbol'>:featured</span>
    <span class='id integer'>integer</span> <span class='symbol'>:blog_id</span>
    <span class='id integer'>integer</span> <span class='symbol'>:author_id</span>
    <span class='id integer'>integer</span> <span class='symbol'>:category_ids</span><span class='comma'>,</span> <span class='symbol'>:multiple</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
    <span class='id double'>double</span>  <span class='symbol'>:average_rating</span>
    <span class='id time'>time</span>    <span class='symbol'>:published_at</span>
    <span class='id time'>time</span>    <span class='symbol'>:expired_at</span>

    <span class='id string'>string</span>  <span class='symbol'>:sort_title</span> <span class='kw'>do</span>
      <span class='id title'>title</span><span class='period'>.</span><span class='id downcase'>downcase</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(an?|the)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<p><code>text</code> fields will be full-text searchable. Other fields (e.g.,
<code>integer</code> and <code>string</code>) can be used to scope queries.</p>

<h2>Searching Objects</h2>

<pre class="code ruby"><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>best pizza</span><span class='tstring_end'>'</span></span>

  <span class='id with'>with</span> <span class='symbol'>:blog_id</span><span class='comma'>,</span> <span class='int'>1</span>
  <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:published_at</span><span class='rparen'>)</span><span class='period'>.</span><span class='id less_than'>less_than</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span>
  <span class='id order_by'>order_by</span> <span class='symbol'>:published_at</span><span class='comma'>,</span> <span class='symbol'>:desc</span>
  <span class='id paginate'>paginate</span> <span class='symbol'>:page</span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='comma'>,</span> <span class='symbol'>:per_page</span> <span class='op'>=&gt;</span> <span class='int'>15</span>
  <span class='id facet'>facet</span> <span class='symbol'>:category_ids</span><span class='comma'>,</span> <span class='symbol'>:author_id</span>
<span class='kw'>end</span>
</pre>

<h2>Search In Depth</h2>

<p>Given an object <code>Post</code> setup in earlier steps ...</p>

<h3>Full Text</h3>

<pre class="code ruby"><span class='comment'># All posts with a `text` field (:title, :body, or :comments) containing 'pizza'
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='lbrace'>{</span> <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>pizza</span><span class='tstring_end'>'</span></span> <span class='rbrace'>}</span>

<span class='comment'># Posts with pizza, scored higher if pizza appears in the title
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>pizza</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span>
    <span class='id boost_fields'>boost_fields</span> <span class='symbol'>:title</span> <span class='op'>=&gt;</span> <span class='float'>2.0</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Posts with pizza, scored higher if featured
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>pizza</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span>
    <span class='id boost'>boost</span><span class='lparen'>(</span><span class='float'>2.0</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:featured</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Posts with pizza *only* in the title
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>pizza</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span>
    <span class='id fields'>fields</span><span class='lparen'>(</span><span class='symbol'>:title</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Posts with pizza in the title (boosted) or in the body (not boosted)
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>pizza</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span>
    <span class='id fields'>fields</span><span class='lparen'>(</span><span class='symbol'>:body</span><span class='comma'>,</span> <span class='symbol'>:title</span> <span class='op'>=&gt;</span> <span class='float'>2.0</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<h4>Phrases</h4>

<p>Solr allows searching for phrases: search terms that are close together.</p>

<p>In the default query parser used by Sunspot (dismax), phrase searches
are represented as a double quoted group of words.</p>

<pre class="code ruby"><span class='comment'># Posts with the exact phrase &quot;great pizza&quot;
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;great pizza&quot;</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span>
</pre>

<p>If specified, <strong>query_phrase_slop</strong> sets the number of words that may
appear between the words in a phrase.</p>

<pre class="code ruby"><span class='comment'># One word can appear between the words in the phrase, so &quot;great big pizza&quot;
</span><span class='comment'># also matches, in addition to &quot;great pizza&quot;
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;great pizza&quot;</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span>
    <span class='id query_phrase_slop'>query_phrase_slop</span> <span class='int'>1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<h5>Phrase Boosts</h5>

<p>Phrase boosts add boost to terms that appear in close proximity;
the terms do not <em>have</em> to appear in a phrase, but if they do, the
document will score more highly.</p>

<pre class="code ruby"><span class='comment'># Matches documents with great and pizza, and scores documents more
</span><span class='comment'># highly if the terms appear in a phrase in the title field
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>great pizza</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span>
    <span class='id phrase_fields'>phrase_fields</span> <span class='symbol'>:title</span> <span class='op'>=&gt;</span> <span class='float'>2.0</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Matches documents with great and pizza, and scores documents more
</span><span class='comment'># highly if the terms appear in a phrase (or with one word between them)
</span><span class='comment'># in the title field
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>great pizza</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span>
    <span class='id phrase_fields'>phrase_fields</span> <span class='symbol'>:title</span> <span class='op'>=&gt;</span> <span class='float'>2.0</span>
    <span class='id phrase_slop'>phrase_slop</span>   <span class='int'>1</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<h3>Scoping (Scalar Fields)</h3>

<p>Fields not defined as <code>text</code> (e.g., <code>integer</code>, <code>boolean</code>, <code>time</code>,
etc...) can be used to scope (restrict) queries before full-text
matching is performed.</p>

<h4>Positive Restrictions</h4>

<pre class="code ruby"><span class='comment'># Posts with a blog_id of 1
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:blog_id</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='comment'># Posts with an average rating between 3.0 and 5.0
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:average_rating</span><span class='comma'>,</span> <span class='float'>3.0</span><span class='op'>..</span><span class='float'>5.0</span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='comment'># Posts with a category of 1, 3, or 5
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:category_ids</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>5</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='comment'># Posts published since a week ago
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:published_at</span><span class='rparen'>)</span><span class='period'>.</span><span class='id greater_than'>greater_than</span><span class='lparen'>(</span><span class='int'>1</span><span class='period'>.</span><span class='id week'>week</span><span class='period'>.</span><span class='id ago'>ago</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>

<h4>Negative Restrictions</h4>

<pre class="code ruby"><span class='comment'># Posts not in category 1 or 3
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id without'>without</span><span class='lparen'>(</span><span class='symbol'>:category_ids</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='comment'># All examples in &quot;positive&quot; also work negated using `without`
</span></pre>

<h4>Disjunctions and Conjunctions</h4>

<pre class="code ruby"><span class='comment'># Posts that do not have an expired time or have not yet expired
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id any_of'>any_of</span> <span class='kw'>do</span>
    <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:expired_at</span><span class='rparen'>)</span><span class='period'>.</span><span class='id greater_than'>greater_than</span><span class='lparen'>(</span><span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span><span class='rparen'>)</span>
    <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:expired_at</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<pre class="code ruby"><span class='comment'># Posts with blog_id 1 and author_id 2
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id all_of'>all_of</span> <span class='kw'>do</span>
    <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:blog_id</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:author_id</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<p>Disjunctions and conjunctions may be nested</p>

<pre class="code ruby"><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id any_of'>any_of</span> <span class='kw'>do</span>
    <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:blog_id</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='id all_of'>all_of</span> <span class='kw'>do</span>
      <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:blog_id</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
      <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:category_ids</span><span class='comma'>,</span> <span class='int'>3</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<h4>Combined with Full-Text</h4>

<p>Scopes/restrictions can be combined with full-text searching. The
scope/restriction pares down the objects that are searched for the
full-text term.</p>

<pre class="code ruby"><span class='comment'># Posts with blog_id 1 and 'pizza' in the title
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:blog_id</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='id fulltext'>fulltext</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pizza</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>

<h3>Pagination</h3>

<p><strong>All results from Solr are paginated</strong></p>

<p>The results array that is returned has methods mixed in that allow it to
operate seamlessly with common pagination libraries like will_paginate
and kaminari.</p>

<p>By default, Sunspot requests the first 30 results from Solr.</p>

<pre class="code ruby"><span class='id search'>search</span> <span class='op'>=</span> <span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pizza</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># Imagine there are 60 *total* results (at 30 results/page, that is two pages)
</span><span class='id results'>results</span> <span class='op'>=</span> <span class='id search'>search</span><span class='period'>.</span><span class='id results'>results</span> <span class='comment'># =&gt; Array with 30 Post elements
</span>
<span class='id search'>search</span><span class='period'>.</span><span class='id total'>total</span>           <span class='comment'># =&gt; 60
</span>
<span class='id results'>results</span><span class='period'>.</span><span class='id total_pages'>total_pages</span>    <span class='comment'># =&gt; 2
</span><span class='id results'>results</span><span class='period'>.</span><span class='id first_page?'>first_page?</span>    <span class='comment'># =&gt; true
</span><span class='id results'>results</span><span class='period'>.</span><span class='id last_page?'>last_page?</span>     <span class='comment'># =&gt; false
</span><span class='id results'>results</span><span class='period'>.</span><span class='id previous_page'>previous_page</span>  <span class='comment'># =&gt; nil
</span><span class='id results'>results</span><span class='period'>.</span><span class='id next_page'>next_page</span>      <span class='comment'># =&gt; 2
</span><span class='id results'>results</span><span class='period'>.</span><span class='id out_of_bounds?'>out_of_bounds?</span> <span class='comment'># =&gt; false
</span><span class='id results'>results</span><span class='period'>.</span><span class='id offset'>offset</span>         <span class='comment'># =&gt; 0
</span></pre>

<p>To retrieve the next page of results, recreate the search and use the
<code>paginate</code> method.</p>

<pre class="code ruby"><span class='id search'>search</span> <span class='op'>=</span> <span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pizza</span><span class='tstring_end'>&quot;</span></span>
  <span class='id paginate'>paginate</span> <span class='symbol'>:page</span> <span class='op'>=&gt;</span> <span class='int'>2</span>
<span class='kw'>end</span>

<span class='comment'># Again, imagine there are 60 total results; this is the second page
</span><span class='id results'>results</span> <span class='op'>=</span> <span class='id search'>search</span><span class='period'>.</span><span class='id results'>results</span> <span class='comment'># =&gt; Array with 30 Post elements
</span>
<span class='id search'>search</span><span class='period'>.</span><span class='id total'>total</span>           <span class='comment'># =&gt; 60
</span>
<span class='id results'>results</span><span class='period'>.</span><span class='id total_pages'>total_pages</span>    <span class='comment'># =&gt; 2
</span><span class='id results'>results</span><span class='period'>.</span><span class='id first_page?'>first_page?</span>    <span class='comment'># =&gt; false
</span><span class='id results'>results</span><span class='period'>.</span><span class='id last_page?'>last_page?</span>     <span class='comment'># =&gt; true
</span><span class='id results'>results</span><span class='period'>.</span><span class='id previous_page'>previous_page</span>  <span class='comment'># =&gt; 1
</span><span class='id results'>results</span><span class='period'>.</span><span class='id next_page'>next_page</span>      <span class='comment'># =&gt; nil
</span><span class='id results'>results</span><span class='period'>.</span><span class='id out_of_bounds?'>out_of_bounds?</span> <span class='comment'># =&gt; false
</span><span class='id results'>results</span><span class='period'>.</span><span class='id offset'>offset</span>         <span class='comment'># =&gt; 30
</span></pre>

<p>A custom number of results per page can be specified with the
<code>:per_page</code> option to <code>paginate</code>:</p>

<pre class="code ruby"><span class='id search'>search</span> <span class='op'>=</span> <span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pizza</span><span class='tstring_end'>&quot;</span></span>
  <span class='id paginate'>paginate</span> <span class='symbol'>:page</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbol'>:per_page</span> <span class='op'>=&gt;</span> <span class='int'>50</span>
<span class='kw'>end</span>
</pre>

<h3>Faceting</h3>

<p>Faceting is a feature of Solr that determines the number of documents
that match a given search <em>and</em> an additional criterion. This allows you
to build powerful drill-down interfaces for search.</p>

<p>Each facet returns zero or more rows, each of which represents a
particular criterion conjoined with the actual query being performed.
For <strong>field facets</strong>, each row represents a particular value for a given
field. For <strong>query facets</strong>, each row represents an arbitrary scope; the
facet itself is just a means of logically grouping the scopes.</p>

<h4>Field Facets</h4>

<pre class="code ruby"><span class='comment'># Posts that match 'pizza' returning counts for each :author_id
</span><span class='id search'>search</span> <span class='op'>=</span> <span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pizza</span><span class='tstring_end'>&quot;</span></span>
  <span class='id facet'>facet</span> <span class='symbol'>:author_id</span>
<span class='kw'>end</span>

<span class='id search'>search</span><span class='period'>.</span><span class='id facet'>facet</span><span class='lparen'>(</span><span class='symbol'>:author_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id rows'>rows</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id facet'>facet</span><span class='op'>|</span>
  <span class='id puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Author </span><span class='embexpr_beg'>#{</span><span class='id facet'>facet</span><span class='period'>.</span><span class='id value'>value</span><span class='rbrace'>}</span><span class='tstring_content'> has </span><span class='embexpr_beg'>#{</span><span class='id facet'>facet</span><span class='period'>.</span><span class='id count'>count</span><span class='rbrace'>}</span><span class='tstring_content'> pizza posts!</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>

<h4>Query Facets</h4>

<pre class="code ruby"><span class='comment'># Posts faceted by ranges of average ratings
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id facet'>facet</span><span class='lparen'>(</span><span class='symbol'>:average_rating</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id row'>row</span><span class='lparen'>(</span><span class='float'>1.0</span><span class='op'>..</span><span class='float'>2.0</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:average_rating</span><span class='comma'>,</span> <span class='float'>1.0</span><span class='op'>..</span><span class='float'>2.0</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id row'>row</span><span class='lparen'>(</span><span class='float'>2.0</span><span class='op'>..</span><span class='float'>3.0</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:average_rating</span><span class='comma'>,</span> <span class='float'>2.0</span><span class='op'>..</span><span class='float'>3.0</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id row'>row</span><span class='lparen'>(</span><span class='float'>3.0</span><span class='op'>..</span><span class='float'>4.0</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:average_rating</span><span class='comma'>,</span> <span class='float'>3.0</span><span class='op'>..</span><span class='float'>4.0</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id row'>row</span><span class='lparen'>(</span><span class='float'>4.0</span><span class='op'>..</span><span class='float'>5.0</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:average_rating</span><span class='comma'>,</span> <span class='float'>4.0</span><span class='op'>..</span><span class='float'>5.0</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># e.g.,
</span><span class='comment'># Number of posts with rating withing 1.0..2.0: 2
</span><span class='comment'># Number of posts with rating withing 2.0..3.0: 1
</span><span class='id search'>search</span><span class='period'>.</span><span class='id facet'>facet</span><span class='lparen'>(</span><span class='symbol'>:average_rating</span><span class='rparen'>)</span><span class='period'>.</span><span class='id rows'>rows</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id facet'>facet</span><span class='op'>|</span>
  <span class='id puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Number of posts with rating withing </span><span class='embexpr_beg'>#{</span><span class='id facet'>facet</span><span class='period'>.</span><span class='id value'>value</span><span class='rbrace'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id facet'>facet</span><span class='period'>.</span><span class='id count'>count</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>

<h3>Ordering</h3>

<p>By default, Sunspot orders results by &quot;score&quot;: the Solr-determined
relevancy metric. Sorting can be customized with the <code>order_by</code> method:</p>

<pre class="code ruby"><span class='comment'># Order by average rating, descending
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pizza</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id order_by'>order_by</span><span class='lparen'>(</span><span class='symbol'>:average_rating</span><span class='comma'>,</span> <span class='symbol'>:desc</span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='comment'># Order by relevancy score and in the case of a tie, average rating
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pizza</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id order_by'>order_by</span><span class='lparen'>(</span><span class='symbol'>:score</span><span class='comma'>,</span> <span class='symbol'>:desc</span><span class='rparen'>)</span>
  <span class='id order_by'>order_by</span><span class='lparen'>(</span><span class='symbol'>:average_rating</span><span class='comma'>,</span> <span class='symbol'>:desc</span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='comment'># Randomized ordering
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pizza</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id order_by'>order_by</span><span class='lparen'>(</span><span class='symbol'>:random</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>

<h3>Geospatial</h3>

<p>TODO</p>

<h3>Highlighting</h3>

<p>Highlighting allows you to display snippets of the part of the document
that matched the query.</p>

<p>The fields you wish to highlight must be <strong>stored</strong>.</p>

<pre class="code ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='id searchable'>searchable</span> <span class='kw'>do</span>
    <span class='comment'># ...
</span>    <span class='id text'>text</span> <span class='symbol'>:body</span><span class='comma'>,</span> <span class='symbol'>:stored</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<p>Highlighting matches on the <code>body</code> field, for instance, can be acheived
like:</p>

<pre class="code ruby"><span class='id search'>search</span> <span class='op'>=</span> <span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id fulltext'>fulltext</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pizza</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span>
    <span class='id highlight'>highlight</span> <span class='symbol'>:body</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Will output something similar to:
</span><span class='comment'># Post #1
</span><span class='comment'>#   I really love *pizza*
</span><span class='comment'>#   *Pizza* is my favorite thing
</span><span class='comment'># Post #2
</span><span class='comment'>#   Pepperoni *pizza* is delicious
</span><span class='id search'>search</span><span class='period'>.</span><span class='id hits'>hits</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id hit'>hit</span><span class='op'>|</span>
  <span class='id puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Post #</span><span class='embexpr_beg'>#{</span><span class='id hit'>hit</span><span class='period'>.</span><span class='id primary_key'>primary_key</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id hit'>hit</span><span class='period'>.</span><span class='id highlights'>highlights</span><span class='lparen'>(</span><span class='symbol'>:body</span><span class='rparen'>)</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id highlight'>highlight</span><span class='op'>|</span>
    <span class='id puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id highlight'>highlight</span><span class='period'>.</span><span class='id format'>format</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id word'>word</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='embexpr_beg'>#{</span><span class='id word'>word</span><span class='rbrace'>}</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<h3>Functions</h3>

<p>TODO</p>

<h3>More Like This</h3>

<p>TODO</p>

<h2>Indexing In Depth</h2>

<p>TODO</p>

<h3>Index-Time Boosts</h3>

<p>To specify that a field should be boosted in relation to other fields for
all queries, you can specify the boost at index time:</p>

<pre class="code ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='id searchable'>searchable</span> <span class='kw'>do</span>
    <span class='id text'>text</span> <span class='symbol'>:title</span><span class='comma'>,</span> <span class='symbol'>:boost</span> <span class='op'>=&gt;</span> <span class='float'>5.0</span>
    <span class='id text'>text</span> <span class='symbol'>:body</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<h3>Stored Fields</h3>

<p>Stored fields keep an original (untokenized/unanalyzed) version of their
contents in Solr.</p>

<p>Stored fields allow data to be retrieved without also hitting the
underlying database (usually an SQL server). They are also required for
highlighting and more like this queries.</p>

<p>Stored fields come at some performance cost in the Solr index, so use
them wisely.</p>

<pre class="code ruby"><span class='kw'>class</span> <span class='const'>Post</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
  <span class='id searchable'>searchable</span> <span class='kw'>do</span>
    <span class='id text'>text</span> <span class='symbol'>:body</span><span class='comma'>,</span> <span class='symbol'>:stored</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Retrieving stored contents without hitting the database
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span><span class='period'>.</span><span class='id hits'>hits</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id hit'>hit</span><span class='op'>|</span>
  <span class='id puts'>puts</span> <span class='id hit'>hit</span><span class='period'>.</span><span class='id stored'>stored</span><span class='lparen'>(</span><span class='symbol'>:body</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>

<h2>Hits vs. Results</h2>

<p>Sunspot simply stores the type and primary key of objects in Solr.
When results are retrieved, those primary keys are used to load the
actual object (usually from an SQL database).</p>

<pre class="code ruby"><span class='comment'># Using #results pulls in the records from the object-relational
</span><span class='comment'># mapper (e.g., ActiveRecord + a SQL server)
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span><span class='period'>.</span><span class='id results'>results</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id result'>result</span><span class='op'>|</span>
  <span class='id puts'>puts</span> <span class='id result'>result</span><span class='period'>.</span><span class='id body'>body</span>
<span class='kw'>end</span>
</pre>

<p>To access information about the results without querying the underlying
database, use <code>hits</code>:</p>

<pre class="code ruby"><span class='comment'># Using #hits gives back all information requested from Solr, but does
</span><span class='comment'># not load the object from the object-relational mapper
</span><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span><span class='period'>.</span><span class='id hits'>hits</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id hit'>hit</span><span class='op'>|</span>
  <span class='id puts'>puts</span> <span class='id hit'>hit</span><span class='period'>.</span><span class='id stored'>stored</span><span class='lparen'>(</span><span class='symbol'>:body</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</pre>

<p>If you need both the result (ORM-loaded object) and <code>Hit</code> (e.g., for
faceting, highlighting, etc...), you can use the convenience method
<code>each_hit_with_result</code>:</p>

<pre class="code ruby"><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span><span class='period'>.</span><span class='id each_hit_with_result'>each_hit_with_result</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id hit'>hit</span><span class='comma'>,</span> <span class='id result'>result</span><span class='op'>|</span>
  <span class='comment'># ...
</span><span class='kw'>end</span>
</pre>

<h2>Reindexing Objects</h2>

<p>If you are using Rails, objects are automatically indexed to Solr as a
part of the <code>save</code> callbacks.</p>

<p>If you make a change to the object's &quot;schema&quot; (code in the <code>searchable</code> block),
you must reindex all objects so the changes are reflected in Solr:</p>

<pre class="code bash">bundle exec rake sunspot:solr:reindex

# or, to be specific to a certain model with a certain batch size:
bundle exec rake sunspot:solr:reindex[500,Post] # some shells will require escaping [ with \[ and ] with \]
</pre>

<h2>Use Without Rails</h2>

<p>TODO</p>

<h2>Manually Adjusting Solr Parameters</h2>

<p>To add or modify parameters sent to Solr, use <code>adjust_solr_params</code>:</p>

<pre class="code ruby"><span class='const'>Post</span><span class='period'>.</span><span class='id search'>search</span> <span class='kw'>do</span>
  <span class='id adjust_solr_params'>adjust_solr_params</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id params'>params</span><span class='op'>|</span>
    <span class='id params'>params</span><span class='lbracket'>[</span><span class='symbol'>:q</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> AND something_s:more</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<h2>Session Proxies</h2>

<p>TODO</p>

<h2>Type Reference</h2>

<p>TODO</p>

<h2>Development</h2>

<h3>Running Tests</h3>

<h4>sunspot</h4>

<p>Install the required gem dependencies:</p>

<pre class="code bash">cd /path/to/sunspot/sunspot
bundle install
</pre>

<p>Start a Solr instance on port 8983:</p>

<pre class="code bash">bundle exec sunspot-solr start -p 8983
# or `bundle exec sunspot-solr run -p 8983` to run in foreground
</pre>

<p>Run the tests:</p>

<pre class="code bash">bundle exec rake spec
</pre>

<p>If desired, stop the Solr instance:</p>

<pre class="code bash">bundle exec sunspot-solr stop
</pre>

<h4>sunspot_rails</h4>

<p>Install the gem dependencies for <code>sunspot</code>:</p>

<pre class="code bash">cd /path/to/sunspot/sunspot
bundle install
</pre>

<p>Start a Solr instance on port 8983:</p>

<pre class="code bash">bundle exec sunspot-solr start -p 8983
# or `bundle exec sunspot-solr run -p 8983` to run in foreground
</pre>

<p>Navigate to the <code>sunspot_rails</code> directory:</p>

<pre class="code bash">cd ../sunspot_rails
</pre>

<p>Run the tests:</p>

<pre class="code bash">rake spec # all Rails versions
rake spec RAILS=3.1.1 # specific Rails version only
</pre>

<p>If desired, stop the Solr instance:</p>

<pre class="code bash">cd ../sunspot
bundle exec sunspot-solr stop
</pre>

<h2>Tutorials and Articles</h2>

<ul>
<li><a href="http://collectiveidea.com/blog/archives/2011/03/08/full-text-searching-with-solr-and-sunspot/">Full Text Searching with Solr and Sunspot</a> (Collective Idea)</li>
<li><a href="http://tech.favoritemedium.com/2010/01/full-text-search-in-rails-with-sunspot.html">Full-text search in Rails with Sunspot</a> (Tropical Software Observations)</li>
<li><a href="http://therailworld.com/posts/23-Sunspot-Full-text-Search-for-Rails-Ruby">Sunspot Full-text Search for Rails/Ruby</a> (The Rail World)</li>
<li><a href="http://blog.trydionel.com/2009/11/19/a-few-sunspot-tips/">A Few Sunspot Tips</a> (spiral_code)</li>
<li><a href="http://www.linux-mag.com/id/7341">Sunspot: A Solr-Powered Search Engine for Ruby</a> (Linux Magazine)</li>
<li><a href="http://bennyfreshness.com/2010/05/sunspot-helped-me-see-the-light/">Sunspot Showed Me the Light</a> (ben koonse)</li>
<li><a href="http://blog.websolr.com/post/3505903537/rubygems-search-upgrade-1">RubyGems.org — A case study in upgrading to full-text search</a> (Websolr)</li>
<li><a href="http://codequest.eu/articles/how-to-implement-spatial-search-with-sunspot-and-solr">How to Implement Spatial Search with Sunspot and Solr</a> (Code Quest)</li>
<li><a href="http://joelmats.wordpress.com/2011/02/23/getting-sunspot-1-2-with-spatial-solr-plugin-2-0-to-work/">Sunspot 1.2 with Spatial Solr Plugin 2.0</a> (joelmats)</li>
<li><a href="http://anhaminha.tumblr.com/post/632682537/rails3-heroku-sunspot-madness">rails3 + heroku + sunspot : madness</a> (anhaminha)</li>
<li><a href="http://cookbook.hobocentral.net/recipes/57-how-to-get-full-text-search">How to get full text search working with Sunspot</a> (Hobo Cookbook)</li>
<li><a href="http://hemju.com/2011/01/04/full-text-search-with-sunspot-in-rail/">Full text search with Sunspot in Rails</a> (hemju)</li>
<li><a href="http://masonoise.wordpress.com/2010/02/06/using-sunspot-for-free-text-search-with-redis/">Using Sunspot for Free-Text Search with Redis</a> (While I Pondered...)</li>
<li><a href="http://www.pipetodevnull.com/past/2010/8/5/fuzzy_searching_in_solr_with_sunspot/">Fuzzy searching in SOLR with Sunspot</a> (pipe :to =&gt; /dev/null)</li>
<li><a href="http://www.cloudspace.com/blog/2010/01/15/default-scope-with-sunspot/">Default scope with Sunspot</a> (Cloudspace)</li>
<li><a href="http://www.medihack.org/2011/03/19/index-external-models-with-sunspotsolr/">Index External Models with Sunspot/Solr</a> (Medihack)</li>
<li><a href="http://gist.github.com/336403">Chef recipe for Sunspot in production</a></li>
<li><a href="http://collectiveidea.com/blog/archives/2011/05/25/testing-with-sunspot-and-cucumber/">Testing with Sunspot and Cucumber</a> (Collective Idea)</li>
<li><a href="http://opensoul.org/2010/4/7/cucumber-and-sunspot">Cucumber and Sunspot</a> (opensoul.org)</li>
<li><a href="http://blog.trydionel.com/2010/02/06/testing-sunspot-with-cucumber/">Testing Sunspot with Cucumber</a> (spiral_code)</li>
<li><a href="http://blog.kabisa.nl/2010/02/03/running-cucumber-features-with-sunspot_rails">Running cucumber features with sunspot_rails</a> (Kabisa Blog)</li>
<li><a href="http://timcowlishaw.co.uk/post/3179661158/testing-sunspot-with-test-unit">Testing Sunspot with Test::Unit</a> (Type Slowly)</li>
<li><a href="http://www.untitledstartup.com/2010/01/how-to-use-twitter-lists-to-determine-influence/">How To Use Twitter Lists to Determine Influence</a> (Untitled Startup)</li>
<li><a href="http://wiki.websolr.com/index.php/Sunspot_Quickstart">Sunspot Quickstart</a> (WebSolr)</li>
<li><a href="http://www.kuahyeow.com/2009/08/solr-and-sunspot.html">Solr, and Sunspot</a> (YT!)</li>
<li><a href="http://mrb.github.com/2010/04/08/the-saga-of-the-switch.html">The Saga of the Switch</a> (mrb -- includes comparison of Sunspot and Ultrasphinx)</li>
</ul>

<h2>License</h2>

<p>Sunspot is distributed under the MIT License, copyright (c) 2008-2009 Mat Brown</p>
</div></div>
    
    <div id="footer">
  Generated on Sat Nov 26 13:47:17 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.3 (ruby-1.9.2).
</div>

  </body>
</html>